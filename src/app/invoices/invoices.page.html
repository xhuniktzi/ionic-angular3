<ion-header>
  <ion-toolbar>
    <ion-title>Facturas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <ion-item>
    <ion-icon name="code-outline" slot="start"></ion-icon>
    <ion-label position="stacked">Fecha</ion-label>
    <ion-input type="date" [(ngModel)]="orderDate"></ion-input>
  </ion-item>
  <ion-item>
    <ion-icon name="code-outline" slot="start"></ion-icon>
    <ion-label position="floating">Serie de la factura</ion-label>
    <ion-input type="text" [(ngModel)]="serial"></ion-input>
  </ion-item>
  <ion-item>
    <ion-icon name="code-outline" slot="start"></ion-icon>
    <ion-label position="floating">Numero de factura</ion-label>
    <ion-input type="number" [(ngModel)]="invoiceNumber"></ion-input>
  </ion-item>

  <ion-item detail="false" (click)="selectClient()">
    <ion-icon name="person-circle-outline" slot="start"></ion-icon>
    <ion-label>
      <h2>Cliente: {{ currentClient?.name }}</h2>
      <p>{{ currentClient?.nit }}</p>
    </ion-label>
    <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
  </ion-item>

  <ion-item detail="false" (click)="selectBranch()">
    <ion-icon name="person-circle-outline" slot="start"></ion-icon>
    <ion-label>
      <h2>Sucursal: {{ currentBranch?.name }}</h2>
      <p>{{ currentBranch?.direction }}</p>
    </ion-label>
    <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
  </ion-item>

  <ion-item detail="false" (click)="addProduct()">
    <ion-icon name="person-circle-outline" slot="start"></ion-icon>
    <ion-label>
      <h2>Agregar Producto</h2>
    </ion-label>
    <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
  </ion-item>
  <ion-item detail="false" (click)="viewProducts()">
    <ion-icon name="person-circle-outline" slot="start"></ion-icon>
    <ion-label>
      <h2>Ver Productos</h2>
    </ion-label>
    <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
  </ion-item>
  <ion-item>
    <ion-icon name="document-text-outline" slot="start"></ion-icon>
    <ion-label>Total</ion-label>
    <ion-text>
      <p>
        {{ products | sum: "total" | currency: "GTQ":"symbol-narrow":"1.2-2" }}
      </p>
    </ion-text>
  </ion-item>
  <ion-button expand="block" fill="clear" color="success" (click)="submit()">
    <ion-icon name="add-circle-outline" slot="start"></ion-icon>
    Crear factura
  </ion-button>
</ion-content>
